{% extends "layout.html" %}

{% block title %}Inventory · MFTNB Moving App{% endblock %}

{% block extra_head %}
<style>
  .item-table th, .item-table td {
    vertical-align: middle;
  }
</style>
{% endblock %}

{% block content %}
<h2>Tell us what you're moving</h2>
<p>
  Build a room‑by‑room inventory of your belongings.  This helps our crew plan
  the right vehicle, equipment and team for your move.  Add each item along
  with its quantity, and feel free to get creative—if you call your couch
  “The Big Comfy Monster,” we’ll know exactly what you mean!
</p>

<form id="inventory-form" method="post">
  <!-- Hidden field to send serialized inventory JSON to the server -->
  <input type="hidden" name="inventory_data" id="inventory_data">

  <div class="row g-3 align-items-end mb-3">
    <div class="col-md-3">
      <label for="room" class="form-label">Room</label>
      <select id="room" class="form-select">
        <option value="Living Room">Living Room</option>
        <option value="Bedroom">Bedroom</option>
        <option value="Kitchen">Kitchen</option>
        <option value="Dining Room">Dining Room</option>
        <option value="Office">Office</option>
        <option value="Garage">Garage</option>
        <option value="Other">Other</option>
      </select>
    </div>
    <div class="col-md-4">
      <label for="item" class="form-label">Item description</label>
      <input type="text" id="item" class="form-control" placeholder="e.g. 3‑seat sofa" required>
    </div>
    <div class="col-md-2">
      <label for="quantity" class="form-label">Quantity</label>
      <input type="number" id="quantity" class="form-control" min="1" value="1" required>
    </div>
    <div class="col-md-3">
      <button type="button" id="add-item" class="btn btn-primary w-100">Add Item</button>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-striped item-table">
      <thead class="table-light">
      <tr>
        <th scope="col">Room</th>
        <th scope="col">Item</th>
        <th scope="col">Quantity</th>
        <th scope="col">Action</th>
      </tr>
      </thead>
      <tbody id="items-body">
      <!-- Rows populated dynamically -->
      </tbody>
    </table>
  </div>

  <div class="mt-4 d-flex justify-content-between align-items-center">
    <div>
      <button type="submit" class="btn btn-success">Next: Booking</button>
    </div>
    <div id="fun-message" class="text-muted small"></div>
  </div>
</form>

{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/inventory.js') }}"></script>
{% endblock %}